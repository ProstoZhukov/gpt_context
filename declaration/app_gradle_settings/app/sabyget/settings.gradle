apply from: "../global_settings.gradle"

parseGitSubmodules(settings)

setupGlobalSettings(settings)

def appName = "sabyget"

ext.feature_dir = 'feature'
apply from: "$settingsDir/$feature_dir/settings.gradle"

includeSubmodules(
        settings,
        appName,
        "saby-clients-common",
        "review",
        "auth",
        "barcodereader",
        "business-components",
        "catalog",
        "common",
        "common-catalog-items",
        "communicator",
        "declaration",
        "design",
        "electronic-queue",
        "edo",
        "employee",
        "map",
        "disk",
        "news",
        "notification",
        "user-payment",
        "profile",
        "videocall",
)

include ':app', ':controller'

includeControllerSources(settings, appName)

splitAppByRegion(settings, appName) {
    ru {
        appConfig {
            applicationId = "ru.tensor.showcase"
            accountType = AndroidAccountManager.SBIS_ACCOUNT.type
        }
        rootProjectConfig {
            apply plugin: 'social-integration'

            def appPackageName = "ru.tensor.showcase"
            /* :link_opener */
            sabyLinks.setup { set ->
                set.component = "${appPackageName}.presentation.main.MainActivity"
                set.enableLinkSabyGet = true
                set.enableLinkSabyGetBrandCommon = true
                set.newsFeature = true
                set.videoCallFeature = true
                set.sabygetSabyClientsFeature = true
                set.enableQrAuthAndInstallApp = false
                set.enableLinkSabyMyPageLink = false
            }

            //Константы для соц. сетей
            socialServices {
                yandex = yandexKey("add341402dde4a95a90296ee8ed7f438", "8a41ed1377f84518b4ea77312c1cbb1c")
                VK = vkKey("51983855", "IZ0DTuOxZv1T17DQyKyu")
                esiaEnabled = true
                googleEnabled = true
            }
        }
    }
    kz {
        appConfig {
            applicationId = "kz.setty.settyget"
            accountType = AndroidAccountManager.SETTY_BUNDLE_ACCOUNT.type
        }

        rootProjectConfig {
            apply plugin: 'social-integration'

            def appPackageName = "ru.tensor.showcase"
            /* :link_opener */
            sabyLinks.setup { set ->
                set.component = "${appPackageName}.presentation.main.MainActivity"
                set.enableLinkSabyGet = true
                set.enableLinkSabyGetBrandCommon = true
                set.newsFeature = true
                set.videoCallFeature = false
                set.sabygetSabyClientsFeature = true
                set.enableQrAuthAndInstallApp = false
                set.enableLinkSabyMyPageLink = false
            }

            //Константы для соц. сетей
            socialServices {
                yandex = yandexKey("add341402dde4a95a90296ee8ed7f438", "8a41ed1377f84518b4ea77312c1cbb1c")
                VK = vkKey("51983855", "IZ0DTuOxZv1T17DQyKyu")
                esiaEnabled = false
                googleEnabled = true
            }
        }
    }
}
