// Top-level build file where you can add configuration options common to all sub-projects/modules.
apply plugin: 'rootproject-cfg-plugin'

rootProjectConfig { cfg ->
    cfg.enableResolutionStrategyCfg()
    cfg.enableMuteLintCfg()
    cfg.enableKaptSubprojectsCfg()
    cfg.enableDokkaCfg()
    cfg.enableSabyLinkCfg()
    if (rootProject.ext.ciBuild) {
        cfg.enableTaskFilterCfg()
    }
}

project.ext {
    productName = "SabyClients"
    applicationId = "ru.tensor.saby.clients"
    deepLinkHost = "${applicationId}.presentation.main.MainActivity"

    /* :link_opener */
    sabyLinks.setup { set ->
        set.component = "${applicationId}.MainActivity"
        set.enableDeepLinkSabyClientsPageLink = true
        set.enableDeepLinkSabyClientsLink = true
        set.clientsSabyFeature = true
        set.themesRegistryFeature = true
        set.enableLinkDialog = true
        set.enableLinkPerson = true
        set.personCardFeature = true
    }

    platformCoreLibrary = "sbis-app-controller"
    accountType = AndroidAccountManager.SABY_ACCOUNT.type
}

task clean(type: Delete) {
    delete rootProject.buildDir
}