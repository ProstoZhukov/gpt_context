def robolectricVer = "4.13"

dependencyResolutionManagement {
    versionCatalogs {
        testLibs {
            version("android-robolectric", robolectricVer)
        }
    }
}

apply from: "../global_settings.gradle"

parseGitSubmodules(settings)

setupGlobalSettings(settings)

gradle.rootProject {
    rootProject.ext {
        compileSdkVersion = 34
        targetSdkVersion = 34
        robolectricVersion = robolectricVer
    }
}

def appName = "storekeeper"

includeSubmodules(
        settings,
        appName,
        "auth",
        "barcodereader",
        "catalog",
        "common",
        "communicator",
        "contractors",
        "crm",
        "crypto",
        "design",
        "declaration",
        "disk",
        "edo",
        "employee",
        "inoutdocuments",
        "iamhere",
        "map",
        "notification",
        "profile",
        "tasks",
        "warehouse-docs"
)

include ':app', ':controller'

setupControllerModule(settings, appName)

splitAppByRegion(settings, appName) {
    ru {
        appConfig {
            applicationId = "ru.tensor.sbis.storekeeper"
            accountType = AndroidAccountManager.SBIS_ACCOUNT.type
        }
    }
    kz {
        appConfig {
            applicationId = "kz.setty.docs"
            accountType = AndroidAccountManager.SETTY_BUNDLE_ACCOUNT.type
        }
    }
}
