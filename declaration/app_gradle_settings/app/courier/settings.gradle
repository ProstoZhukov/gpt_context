apply from: "../global_settings.gradle"

parseGitSubmodules(settings)

setupGlobalSettings(settings, "$settingsDir/android-configs/gradle_configs".toString())

if (!ext.isCiBuild) {
    checkGradle(
            settings,
            "8.3",
            [:],
            [
                    "android.bundle.enableUncompressedNativeLibs",
                    "android.experimental.nonTransitiveAppRClass"
            ].toSet()
    )
}

customizeBuildScript(settings) { bs, prjct ->
    bs.dependencies { handler ->
        handler.classpath prjct.deps.greendao.plugin
    }
}

def appName = "courier"

includeSubmodules(
        settings,
        appName,
        "auth",
        "barcodereader",
        "calendar",
        "catalog",
        "communicator",
        "contractors",
        "crm",
        "crypto",
        "declaration",
        "design",
        "disk",
        "common",
        "edo",
        "employee",
        "iamhere",
        "inoutdocuments",
        "map",
        "meeting",
        "motivation",
        "news",
        "notification",
        "payment",
        "personal_documents",
        "profile",
        "reporting",
        "schedule",
        "tasks",
        "videocall"
)

include ':app', ':controller'

setupControllerModule(settings, appName)
